<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated To-Do App</title>
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="manifest.json">
    
    <link rel="stylesheet" href="style.css">
    <!-- Flatpickr pour le date picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- Font Awesome pour les ic√¥nes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Banni√®re de notification -->
    <div id="notification-banner" class="notification-banner hidden">
        <div class="notification-content">
            <i class="fas fa-bell notification-icon"></i>
            <span class="notification-text"></span>
            <button class="notification-close" onclick="hideNotification()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <div id="app">
        <!-- Bouton de retour -->
        <button id="back-button" class="back-button hidden">
            <i class="fas fa-arrow-left"></i>
        </button>

        <!-- Page de bienvenue -->
        <div id="welcome-page" class="welcome-container">
            <div class="welcome-content">
                <div class="character-container">
                    <div class="todo-animation">
                        <!-- Animation de t√¢ches flottantes -->
                        <div class="floating-tasks">
                            <div class="task-item task-1">
                                <div class="checkbox checked"></div>
                                <span>Acheter du lait</span>
                            </div>
                            <div class="task-item task-2">
                                <div class="checkbox checked"></div>
                                <span>R√©union 14h</span>
                            </div>
                            <div class="task-item task-3">
                                <div class="checkbox"></div>
                                <span>Appeler maman</span>
                            </div>
                            <div class="task-item task-4">
                                <div class="checkbox"></div>
                                <span>Sport</span>
                            </div>
                        </div>
                        
                        <!-- Centre avec ic√¥ne principale -->
                        <div class="central-icon">
                            <div class="icon-circle">
                                <i class="fas fa-check-double"></i>
                            </div>
                            <div class="pulse-ring"></div>
                        </div>
                        
                        <!-- Particules anim√©es -->
                        <div class="particles">
                            <div class="particle particle-1"></div>
                            <div class="particle particle-2"></div>
                            <div class="particle particle-3"></div>
                            <div class="particle particle-4"></div>
                            <div class="particle particle-5"></div>
                            <div class="particle particle-6"></div>
                        </div>
                    </div>
                </div>
                <h1 class="welcome-title">Bienvenue sur votre To-Do App!</h1>
                <p class="welcome-text">Organisez vos t√¢ches avec style et efficacit√©</p>
                <button id="start-btn" class="start-button">
                    <i class="fas fa-play"></i> Commencer
                </button>
            </div>
        </div>

        <!-- Menu flottant -->
        <div id="floating-menu" class="floating-menu hidden">
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="menu-items">
                <button class="menu-item" data-view="tasks">
                    <i class="fas fa-tasks"></i>
                    <span>T√¢ches</span>
                </button>
                <button class="menu-item" data-view="planning">
                    <i class="fas fa-calendar-week"></i>
                    <span>Planning</span>
                </button>
                <button class="menu-item" data-view="themes">
                    <i class="fas fa-palette"></i>
                    <span>Th√®mes</span>
                </button>
                <button class="menu-item" data-view="settings">
                    <i class="fas fa-cog"></i>
                    <span>Param√®tres</span>
                </button>
                <button class="menu-item" data-view="stats">
                    <i class="fas fa-chart-bar"></i>
                    <span>Statistiques</span>
                </button>
            </div>
        </div>

        <!-- Vue T√¢ches -->
        <div id="tasks-view" class="view hidden">
            <div class="todo-container">
                <h1><i class="fas fa-list-check"></i> Mes T√¢ches</h1>
                <div class="add-task-form">
                    <input type="text" id="todo-input" placeholder="Nouvelle t√¢che...">
                    <div class="date-input-container">
                        <input type="text" id="start-date" placeholder="üìÖ Date de d√©but">
                        <i class="fas fa-calendar-alt date-icon"></i>
                    </div>
                    <div class="date-input-container">
                        <input type="text" id="end-date" placeholder="üìÖ Date de fin">
                        <i class="fas fa-calendar-alt date-icon"></i>
                    </div>
                    <button onclick="addTodo()" class="btn-add">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <ul id="todo-list"></ul>
            </div>
        </div>

        <!-- Vue Planning Simplifi√© -->
        <div id="planning-view" class="view hidden">
            <div class="planning-container">
                <h1><i class="fas fa-calendar-week"></i> Planning de la Semaine</h1>
                <div class="simple-planner">
                    <div class="day-column" data-day="lundi">
                        <h3>Lundi</h3>
                        <div class="day-tasks" id="tasks-lundi"></div>
                        <button class="add-day-task" onclick="addDayTask('lundi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="mardi">
                        <h3>Mardi</h3>
                        <div class="day-tasks" id="tasks-mardi"></div>
                        <button class="add-day-task" onclick="addDayTask('mardi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="mercredi">
                        <h3>Mercredi</h3>
                        <div class="day-tasks" id="tasks-mercredi"></div>
                        <button class="add-day-task" onclick="addDayTask('mercredi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="jeudi">
                        <h3>Jeudi</h3>
                        <div class="day-tasks" id="tasks-jeudi"></div>
                        <button class="add-day-task" onclick="addDayTask('jeudi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="vendredi">
                        <h3>Vendredi</h3>
                        <div class="day-tasks" id="tasks-vendredi"></div>
                        <button class="add-day-task" onclick="addDayTask('vendredi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="samedi">
                        <h3>Samedi</h3>
                        <div class="day-tasks" id="tasks-samedi"></div>
                        <button class="add-day-task" onclick="addDayTask('samedi')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="day-column" data-day="dimanche">
                        <h3>Dimanche</h3>
                        <div class="day-tasks" id="tasks-dimanche"></div>
                        <button class="add-day-task" onclick="addDayTask('dimanche')">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vue Th√®mes Am√©lior√©e -->
        <div id="themes-view" class="view hidden">
            <div class="themes-container">
                <h1><i class="fas fa-palette"></i> Choisir un Th√®me</h1>
                
                <!-- Cat√©gories de th√®mes -->
                <div class="theme-categories">
                    <button class="category-btn active" data-category="nature">Nature</button>
                    <button class="category-btn" data-category="science">Science</button>
                    <button class="category-btn" data-category="histoire">Histoire</button>
                    <button class="category-btn" data-category="arts">Arts</button>
                    <button class="category-btn" data-category="culture">Culture</button>
                    <button class="category-btn" data-category="couleurs">Couleurs</button>
                    <button class="category-btn" data-category="custom">Personnalis√©</button>
                </div>

                <!-- Th√®mes par cat√©gorie -->
                <div class="theme-grid" id="theme-grid">
                    <!-- G√©n√©r√© dynamiquement -->
                </div>

                <!-- Personnalisation de th√®me -->
                <div id="custom-theme-panel" class="custom-theme-panel hidden">
                    <h3>Cr√©er votre th√®me personnalis√©</h3>
                    <div class="color-picker-group">
                        <label>Couleur principale:</label>
                        <input type="color" id="primary-color" value="#667eea">
                    </div>
                    <div class="color-picker-group">
                        <label>Couleur secondaire:</label>
                        <input type="color" id="secondary-color" value="#764ba2">
                    </div>
                    <div class="color-picker-group">
                        <label>Couleur de fond:</label>
                        <input type="color" id="bg-color" value="#ffffff">
                    </div>
                    <button onclick="applyCustomTheme()" class="apply-custom-theme">
                        <i class="fas fa-save"></i> Appliquer le th√®me
                    </button>
                </div>
            </div>
        </div>

        <!-- Vue Param√®tres -->
        <div id="settings-view" class="view hidden">
            <div class="settings-container">
                <h1><i class="fas fa-cog"></i> Param√®tres</h1>
                
                <div class="settings-group">
                    <h3><i class="fas fa-bell"></i> Notifications</h3>
                    <div class="setting-item">
                        <label>Activer les notifications</label>
                        <input type="checkbox" id="enable-notifications" class="toggle-switch">
                    </div>
                    <div class="setting-item">
                        <label>Rappels avant √©ch√©ance (minutes)</label>
                        <select id="reminder-time">
                            <option value="5">5 minutes</option>
                            <option value="15" selected>15 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="60">1 heure</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Sonnerie de rappel</label>
                        <select id="notification-sound">
                            <option value="default">Sonnerie par d√©faut</option>
                            <option value="bell">Cloche classique</option>
                            <option value="chime">Carillon</option>
                            <option value="notification">Notification moderne</option>
                            <option value="piano">Note de piano</option>
                            <option value="beep">Bip simple</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <button id="test-sound" class="settings-btn">
                            <i class="fas fa-volume-up"></i> Tester la sonnerie
                        </button>
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-language"></i> Interface</h3>
                    <div class="setting-item">
                        <label>Mode sombre automatique</label>
                        <input type="checkbox" id="auto-dark-mode" class="toggle-switch">
                    </div>
                    <div class="setting-item">
                        <label>Animation r√©duite</label>
                        <input type="checkbox" id="reduced-motion" class="toggle-switch">
                    </div>
                </div>

                <div class="settings-group">
                    <h3><i class="fas fa-database"></i> Donn√©es</h3>
                    <button onclick="exportData()" class="settings-btn">
                        <i class="fas fa-download"></i> Exporter les donn√©es
                    </button>
                    <button onclick="importData()" class="settings-btn">
                        <i class="fas fa-upload"></i> Importer les donn√©es
                    </button>
                    <button onclick="clearAllData()" class="settings-btn danger">
                        <i class="fas fa-trash"></i> Effacer toutes les donn√©es
                    </button>
                </div>
            </div>
        </div>

        <!-- Vue Statistiques -->
        <div id="stats-view" class="view hidden">
            <div class="stats-container">
                <h1><i class="fas fa-chart-bar"></i> Statistiques</h1>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-check-circle"></i>
                        <h3>T√¢ches Compl√©t√©es</h3>
                        <span id="completed-tasks">0</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clock"></i>
                        <h3>T√¢ches en Cours</h3>
                        <span id="pending-tasks">0</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-fire"></i>
                        <h3>S√©rie Actuelle</h3>
                        <span id="current-streak">0</span>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <h3>Cette Semaine</h3>
                        <span id="week-completed">0</span>
                    </div>
                </div>
                
                <!-- Graphique de progression -->
                <div class="progress-chart">
                    <h3>Progression des 7 derniers jours</h3>
                    <canvas id="progress-canvas" width="400" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Input cach√© pour import de fichier -->
    <input type="file" id="import-file" accept=".json" style="display: none;" onchange="handleFileImport(event)">

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/fr.js"></script>
    <script src="script.js"></script>
</body>
</html>